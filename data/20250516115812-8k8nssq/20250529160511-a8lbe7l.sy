{"ID":"20250529160511-a8lbe7l","Spec":"1","Type":"NodeDocument","Properties":{"id":"20250529160511-a8lbe7l","title":"Python性能工具","type":"doc","updated":"20250609210528"},"Children":[{"ID":"20250529163436-xqjd0fm","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20250529163436-xqjd0fm","updated":"20250529175307"},"Children":[{"Type":"NodeText","Data":"全局监控工具"}]},{"ID":"20250529175232-ug6s1zm","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529175232-ug6s1zm","updated":"20250529175307"},"Children":[{"Type":"NodeText","Data":"1. Prometheus"}]},{"ID":"20250529175232-387637d","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-387637d","updated":"20250529175307"},"Children":[{"ID":"20250529175232-awhcbb9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-awhcbb9","updated":"20250529175307"},"Children":[{"ID":"20250529175232-vqzxywa","Type":"NodeParagraph","Properties":{"id":"20250529175232-vqzxywa","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"定位与功能"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529175232-ts77jzw","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-ts77jzw","updated":"20250529175307"},"Children":[{"ID":"20250529175232-uyx7wzv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-uyx7wzv","updated":"20250529175307"},"Children":[{"ID":"20250529175232-13hmhap","Type":"NodeParagraph","Properties":{"id":"20250529175232-13hmhap","updated":"20250529175307"},"Children":[{"Type":"NodeText","Data":"一个面向云原生和容器化环境的时序数据监控系统，擅长拉（pull）模式采集指标、支持多维度 Label 查询和警告。"}]}]},{"ID":"20250529175232-2mg55di","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-2mg55di","updated":"20250529175232"},"Children":[{"ID":"20250529175232-oxlwis3","Type":"NodeParagraph","Properties":{"id":"20250529175232-oxlwis3","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"核心组件包括："}]},{"ID":"20250529175232-tyvjpek","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250529175232-tyvjpek","updated":"20250529175232"},"Children":[{"ID":"20250529175232-dbwd9mo","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250529175232-dbwd9mo","updated":"20250529175232"},"Children":[{"ID":"20250529175232-7qtyflx","Type":"NodeParagraph","Properties":{"id":"20250529175232-7qtyflx","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Server"},{"Type":"NodeText","Data":"：负责以 PromQL 存储、查询时序数据；"}]}]},{"ID":"20250529175232-g2287wm","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250529175232-g2287wm","updated":"20250529175232"},"Children":[{"ID":"20250529175232-p0p6t71","Type":"NodeParagraph","Properties":{"id":"20250529175232-p0p6t71","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Exporter"},{"Type":"NodeText","Data":"：各类服务/硬件的指标采集端（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"node_exporter"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"blackbox_exporter"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dcgm_exporter"},{"Type":"NodeText","Data":"​）；"}]}]},{"ID":"20250529175232-r6c0gum","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250529175232-r6c0gum","updated":"20250529175232"},"Children":[{"ID":"20250529175232-u4bdj9m","Type":"NodeParagraph","Properties":{"id":"20250529175232-u4bdj9m","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Alertmanager"},{"Type":"NodeText","Data":"：管理告警规则、聚合与路由。"}]}]}]}]}]}]},{"ID":"20250529175232-7m9gz3q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-7m9gz3q","updated":"20250529175232"},"Children":[{"ID":"20250529175232-ejf44bj","Type":"NodeParagraph","Properties":{"id":"20250529175232-ejf44bj","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据模型"},{"Type":"NodeText","Data":"：多维度键值对（Metric name + Labels → 值），便于切片和聚合。"}]}]},{"ID":"20250529175232-sv3gwv3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-sv3gwv3","updated":"20250529175232"},"Children":[{"ID":"20250529175232-5kp2gtr","Type":"NodeParagraph","Properties":{"id":"20250529175232-5kp2gtr","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"开源许可"},{"Type":"NodeText","Data":"：Apache License 2.0（CNCF 基金会项目，100% 开源）"}]}]},{"ID":"20250529175232-k2omt15","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-k2omt15","updated":"20250529175232"},"Children":[{"ID":"20250529175232-nu32cte","Type":"NodeParagraph","Properties":{"id":"20250529175232-nu32cte","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"官网"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://prometheus.io","TextMarkTextContent":"https://prometheus.io"}]}]}]},{"ID":"20250529175232-j56ibkp","Type":"NodeThematicBreak","Properties":{"id":"20250529175232-j56ibkp","updated":"20250529175232"}},{"ID":"20250529175232-ddfeorv","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529175232-ddfeorv","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"2. Telegraf"}]},{"ID":"20250529175232-em7p2xr","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-em7p2xr","updated":"20250529175232"},"Children":[{"ID":"20250529175232-fugbpo9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-fugbpo9","updated":"20250529175232"},"Children":[{"ID":"20250529175232-iou5469","Type":"NodeParagraph","Properties":{"id":"20250529175232-iou5469","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"定位与功能"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529175232-26hmfv7","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-26hmfv7","updated":"20250529175232"},"Children":[{"ID":"20250529175232-vrav3vj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-vrav3vj","updated":"20250529175232"},"Children":[{"ID":"20250529175232-mkxo0l8","Type":"NodeParagraph","Properties":{"id":"20250529175232-mkxo0l8","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"由 InfluxData 开发的“插件化数据采集 Agent”，负责将系统、应用、数据库、中间件等指标采集并推送（push）到后端存储。"}]}]},{"ID":"20250529175232-70vuwsa","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-70vuwsa","updated":"20250529175232"},"Children":[{"ID":"20250529175232-b99i4l2","Type":"NodeParagraph","Properties":{"id":"20250529175232-b99i4l2","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"支持输入插件（Input）→ 处理插件（Processor／Parser）→ 输出插件（Output），拥有上百种官方/社区插件。"}]}]}]}]},{"ID":"20250529175232-qtl7dp6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-qtl7dp6","updated":"20250529175232"},"Children":[{"ID":"20250529175232-g908iyr","Type":"NodeParagraph","Properties":{"id":"20250529175232-g908iyr","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"典型用法"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529175232-fby4ys1","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-fby4ys1","updated":"20250529175232"},"Children":[{"ID":"20250529175232-4mn01s5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-4mn01s5","updated":"20250529175232"},"Children":[{"ID":"20250529175232-xonp46z","Type":"NodeParagraph","Properties":{"id":"20250529175232-xonp46z","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"监控 Linux 主机（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cpu"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mem"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"diskio"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"net"},{"Type":"NodeText","Data":"​）；"}]}]},{"ID":"20250529175232-vkpddfn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-vkpddfn","updated":"20250529175232"},"Children":[{"ID":"20250529175232-liuw81s","Type":"NodeParagraph","Properties":{"id":"20250529175232-liuw81s","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"读取容器（Docker/K8s）、数据库（MySQL、Redis）、消息队列（Kafka）等指标；"}]}]},{"ID":"20250529175232-z7uz6dd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-z7uz6dd","updated":"20250529175232"},"Children":[{"ID":"20250529175232-ylbamtz","Type":"NodeParagraph","Properties":{"id":"20250529175232-ylbamtz","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"还能收集日志、SNMP、MQTT、JMX 等。"}]}]}]}]},{"ID":"20250529175232-05ztqvq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-05ztqvq","updated":"20250529175232"},"Children":[{"ID":"20250529175232-5bo7qxr","Type":"NodeParagraph","Properties":{"id":"20250529175232-5bo7qxr","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"开源许可"},{"Type":"NodeText","Data":"：MIT License（完全开源）"}]}]},{"ID":"20250529175232-ab7dtlu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-ab7dtlu","updated":"20250529175232"},"Children":[{"ID":"20250529175232-oo7oh25","Type":"NodeParagraph","Properties":{"id":"20250529175232-oo7oh25","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"官网"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkTextContent":"https://www.influxdata.com/time-series-platform/telegraf/"}]}]}]},{"ID":"20250529175232-5i3yoem","Type":"NodeThematicBreak","Properties":{"id":"20250529175232-5i3yoem","updated":"20250529175232"}},{"ID":"20250529175232-8do6vui","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529175232-8do6vui","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"3. InfluxDB"}]},{"ID":"20250529175232-n7gkeh5","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-n7gkeh5","updated":"20250529175232"},"Children":[{"ID":"20250529175232-4sumnby","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-4sumnby","updated":"20250529175232"},"Children":[{"ID":"20250529175232-fe6juca","Type":"NodeParagraph","Properties":{"id":"20250529175232-fe6juca","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"定位与功能"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529175232-sq7gcmt","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-sq7gcmt","updated":"20250529175232"},"Children":[{"ID":"20250529175232-yttvkkj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-yttvkkj","updated":"20250529175232"},"Children":[{"ID":"20250529175232-pg7ndom","Type":"NodeParagraph","Properties":{"id":"20250529175232-pg7ndom","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"一款高性能的时序数据库，擅长高并发写入与压缩存储，内置聚合、下采样、数据保留策略。"}]}]},{"ID":"20250529175232-wf5kwsb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-wf5kwsb","updated":"20250529175232"},"Children":[{"ID":"20250529175232-zanlp7q","Type":"NodeParagraph","Properties":{"id":"20250529175232-zanlp7q","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"提供两种版本："}]},{"ID":"20250529175232-ga61rgf","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250529175232-ga61rgf","updated":"20250529175232"},"Children":[{"ID":"20250529175232-lbsvh0b","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250529175232-lbsvh0b","updated":"20250529175232"},"Children":[{"ID":"20250529175232-8qmlptc","Type":"NodeParagraph","Properties":{"id":"20250529175232-8qmlptc","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"InfluxDB OSS（开源版）"},{"Type":"NodeText","Data":"：核心功能免费，支持 InfluxQL/Flux 查询语言，适用于大多数监控场景；"}]}]},{"ID":"20250529175232-edcd78s","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250529175232-edcd78s","updated":"20250529175232"},"Children":[{"ID":"20250529175232-eb2cp21","Type":"NodeParagraph","Properties":{"id":"20250529175232-eb2cp21","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"InfluxDB Enterprise/Cloud"},{"Type":"NodeText","Data":"：商业版，增加跨数据中心复制、高可用集群、企业级认证等。"}]}]}]}]}]}]},{"ID":"20250529175232-3nvhf6g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-3nvhf6g","updated":"20250529175232"},"Children":[{"ID":"20250529175232-xh1twkp","Type":"NodeParagraph","Properties":{"id":"20250529175232-xh1twkp","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据模型"},{"Type":"NodeText","Data":"：基于 “measurement–tags–fields–timestamp” 的点序列结构。"}]}]},{"ID":"20250529175232-t1vnn9p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-t1vnn9p","updated":"20250529175232"},"Children":[{"ID":"20250529175232-0yyx0dq","Type":"NodeParagraph","Properties":{"id":"20250529175232-0yyx0dq","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"开源许可"},{"Type":"NodeText","Data":"：Apache License 2.0（OSS 版完全开源）"}]}]},{"ID":"20250529175232-295oi0l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-295oi0l","updated":"20250529175232"},"Children":[{"ID":"20250529175232-xh8bb2a","Type":"NodeParagraph","Properties":{"id":"20250529175232-xh8bb2a","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"官网"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkTextContent":"https://www.influxdata.com/products/influxdb/"}]}]}]},{"ID":"20250529175232-61t23gg","Type":"NodeThematicBreak","Properties":{"id":"20250529175232-61t23gg","updated":"20250529175232"}},{"ID":"20250529175232-44sf2f7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529175232-44sf2f7","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"4. Grafana"}]},{"ID":"20250529175232-xxfqmq1","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-xxfqmq1","updated":"20250529175232"},"Children":[{"ID":"20250529175232-096e4pp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-096e4pp","updated":"20250529175232"},"Children":[{"ID":"20250529175232-w313a2o","Type":"NodeParagraph","Properties":{"id":"20250529175232-w313a2o","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"定位与功能"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529175232-bipemlp","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-bipemlp","updated":"20250529175232"},"Children":[{"ID":"20250529175232-71vnd0s","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-71vnd0s","updated":"20250529175232"},"Children":[{"ID":"20250529175232-govi1y3","Type":"NodeParagraph","Properties":{"id":"20250529175232-govi1y3","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"一款领先的可视化和仪表盘平台，支持从 Prometheus、InfluxDB、Elasticsearch、Graphite、Loki 等多种数据源读取数据并绘图。"}]}]},{"ID":"20250529175232-zv3pm3v","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-zv3pm3v","updated":"20250529175232"},"Children":[{"ID":"20250529175232-10otobe","Type":"NodeParagraph","Properties":{"id":"20250529175232-10otobe","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"提供丰富的面板插件、查询编辑器和告警功能，便于创建实时监控大屏和业务报表。"}]}]}]}]},{"ID":"20250529175232-iaoxcnt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-iaoxcnt","updated":"20250529175232"},"Children":[{"ID":"20250529175232-0feutoq","Type":"NodeParagraph","Properties":{"id":"20250529175232-0feutoq","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"部署方式"},{"Type":"NodeText","Data":"：可单机安装，也可集群化部署；提供社区版（OSS）、Enterprise（商业）版本。"}]}]},{"ID":"20250529175232-xwox0nw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-xwox0nw","updated":"20250529175232"},"Children":[{"ID":"20250529175232-egp3ata","Type":"NodeParagraph","Properties":{"id":"20250529175232-egp3ata","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"开源许可"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529175232-jl7oxsm","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-jl7oxsm","updated":"20250529175232"},"Children":[{"ID":"20250529175232-3xaa5u2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-3xaa5u2","updated":"20250529175232"},"Children":[{"ID":"20250529175232-gtpscfk","Type":"NodeParagraph","Properties":{"id":"20250529175232-gtpscfk","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Grafana OSS"},{"Type":"NodeText","Data":"：AGPL v3（保证源代码公开与下游同样开源）"}]}]},{"ID":"20250529175232-ee1nv6n","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-ee1nv6n","updated":"20250529175232"},"Children":[{"ID":"20250529175232-glz3mvc","Type":"NodeParagraph","Properties":{"id":"20250529175232-glz3mvc","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Grafana Enterprise"},{"Type":"NodeText","Data":"：闭源商业扩展插件。"}]}]}]}]},{"ID":"20250529175232-legkguy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-legkguy","updated":"20250529175232"},"Children":[{"ID":"20250529175232-5a4a0is","Type":"NodeParagraph","Properties":{"id":"20250529175232-5a4a0is","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"官网"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://grafana.com","TextMarkTextContent":"https://grafana.com"}]}]}]},{"ID":"20250529175232-a0dlrmy","Type":"NodeThematicBreak","Properties":{"id":"20250529175232-a0dlrmy","updated":"20250529175232"}},{"ID":"20250529175232-07f3qg5","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-07f3qg5","updated":"20250529175232"},"Children":[{"ID":"20250529175232-hfu7udg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-hfu7udg","updated":"20250529175232"},"Children":[{"ID":"20250529175232-q9qrc4e","Type":"NodeParagraph","Properties":{"id":"20250529175232-q9qrc4e","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"四款工具都是开源的"},{"Type":"NodeText","Data":"，其中 Prometheus、InfluxDB、Telegraf 均采用宽松的 Apache 2.0／MIT 许可证，Grafana OSS 则采用 AGPL v3（对下游也要求开源）。"}]}]},{"ID":"20250529175232-wjd714a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-wjd714a","updated":"20250529175232"},"Children":[{"ID":"20250529175232-dtpgkmg","Type":"NodeParagraph","Properties":{"id":"20250529175232-dtpgkmg","updated":"20250529175232"},"Children":[{"Type":"NodeText","Data":"在深度学习系统监控中："}]},{"ID":"20250529175232-0ptbnp9","Type":"NodeList","ListData":{},"Properties":{"id":"20250529175232-0ptbnp9","updated":"20250529175232"},"Children":[{"ID":"20250529175232-xqbh58u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-xqbh58u","updated":"20250529175232"},"Children":[{"ID":"20250529175232-yk21xlo","Type":"NodeParagraph","Properties":{"id":"20250529175232-yk21xlo","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Prometheus + Grafana"},{"Type":"NodeText","Data":" 适合多维指标查询、高基数场景；"}]}]},{"ID":"20250529175232-od6qyo8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529175232-od6qyo8","updated":"20250529175232"},"Children":[{"ID":"20250529175232-djxomji","Type":"NodeParagraph","Properties":{"id":"20250529175232-djxomji","updated":"20250529175232"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Telegraf + InfluxDB + Grafana"},{"Type":"NodeText","Data":" 则更灵活插件丰富、写入性能更强。"}]}]}]}]}]},{"ID":"20250529164150-a2kqpy7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529164150-a2kqpy7","updated":"20250529173436"},"Children":[{"Type":"NodeText","Data":"系统级监控"}]},{"ID":"20250529164150-bvgtxil","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250529164150-bvgtxil","updated":"20250529173436"},"Children":[{"ID":"20250529164150-gs4f8p6","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250529164150-gs4f8p6","updated":"20250529173436"},"Children":[{"ID":"20250529164150-3ledcfd","Type":"NodeParagraph","Properties":{"id":"20250529164150-3ledcfd","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Prometheus + Node Exporter + Grafana"}]},{"ID":"20250529164150-9sc6sz2","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164150-9sc6sz2","updated":"20250529173436"},"Children":[{"ID":"20250529164150-2tukbwk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-2tukbwk","updated":"20250529164150"},"Children":[{"ID":"20250529164150-acqh75l","Type":"NodeParagraph","Properties":{"id":"20250529164150-acqh75l","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Node Exporter"},{"Type":"NodeText","Data":"：采集主机级指标（CPU、内存、磁盘 I/O、网络带宽）"}]}]},{"ID":"20250529164150-wf4lmso","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-wf4lmso","updated":"20250529164150"},"Children":[{"ID":"20250529164150-9xg7jxf","Type":"NodeParagraph","Properties":{"id":"20250529164150-9xg7jxf","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Prometheus"},{"Type":"NodeText","Data":"：高效时序数据库，用于拉取（pull）各类 Exporter 指标"}]}]},{"ID":"20250529164150-i7zz4f9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-i7zz4f9","updated":"20250529164150"},"Children":[{"ID":"20250529164150-hbpol36","Type":"NodeParagraph","Properties":{"id":"20250529164150-hbpol36","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Grafana"},{"Type":"NodeText","Data":"：可视化、告警与仪表盘"}]}]},{"ID":"20250529164150-bqukhba","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-bqukhba","updated":"20250529173436"},"Children":[{"ID":"20250529164150-pxocypi","Type":"NodeParagraph","Properties":{"id":"20250529164150-pxocypi","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"应用场景"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529164150-pvvuc8e","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164150-pvvuc8e","updated":"20250529173436"},"Children":[{"ID":"20250529164150-i2icnk1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-i2icnk1","updated":"20250529173436"},"Children":[{"ID":"20250529164150-72l8kpp","Type":"NodeParagraph","Properties":{"id":"20250529164150-72l8kpp","updated":"20250529173436"},"Children":[{"Type":"NodeText","Data":"训练/推理的整体资源使用趋势"}]}]},{"ID":"20250529164150-266zznv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-266zznv","updated":"20250529164150"},"Children":[{"ID":"20250529164150-j1hjvho","Type":"NodeParagraph","Properties":{"id":"20250529164150-j1hjvho","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"高频率告警（如 GPU 利用率＜10%、磁盘 I/O 突增）"}]}]},{"ID":"20250529164150-l7lqach","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-l7lqach","updated":"20250529164150"},"Children":[{"ID":"20250529164150-3s5zevo","Type":"NodeParagraph","Properties":{"id":"20250529164150-3s5zevo","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"与业务指标（训练吞吐、延迟）结合做 SLA 监控"}]}]}]}]}]}]},{"ID":"20250529164150-v0gfdqg","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250529164150-v0gfdqg","updated":"20250529164150"},"Children":[{"ID":"20250529164150-9e62wje","Type":"NodeParagraph","Properties":{"id":"20250529164150-9e62wje","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Telegraf + InfluxDB + Grafana"}]},{"ID":"20250529164150-3j8kdwz","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164150-3j8kdwz","updated":"20250529164150"},"Children":[{"ID":"20250529164150-kcxle6e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-kcxle6e","updated":"20250529164150"},"Children":[{"ID":"20250529164150-b8mdo75","Type":"NodeParagraph","Properties":{"id":"20250529164150-b8mdo75","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"Telegraf 插件生态丰富（CPU、内存、网络、Docker、Kubernetes、MySQL…）"}]}]},{"ID":"20250529164150-hujcemq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-hujcemq","updated":"20250529164150"},"Children":[{"ID":"20250529164150-fwsrl6k","Type":"NodeParagraph","Properties":{"id":"20250529164150-fwsrl6k","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"InfluxDB 作为时间序列数据库写入效率高"}]}]},{"ID":"20250529164150-f6aq72t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-f6aq72t","updated":"20250529164150"},"Children":[{"ID":"20250529164150-9n27b06","Type":"NodeParagraph","Properties":{"id":"20250529164150-9n27b06","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"同样配合 Grafana 做可视化"}]}]}]}]},{"ID":"20250529164150-c4u21vl","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250529164150-c4u21vl","updated":"20250529164150"},"Children":[{"ID":"20250529164150-56399pi","Type":"NodeParagraph","Properties":{"id":"20250529164150-56399pi","updated":"20250529164150"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Netdata"}]},{"ID":"20250529164150-o5emhu2","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164150-o5emhu2","updated":"20250529164150"},"Children":[{"ID":"20250529164150-kv3wt64","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-kv3wt64","updated":"20250529164150"},"Children":[{"ID":"20250529164150-g75cm20","Type":"NodeParagraph","Properties":{"id":"20250529164150-g75cm20","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"安装零配置，实时展现每秒级的系统、进程、网络、磁盘和应用指标"}]}]},{"ID":"20250529164150-tgbnir2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164150-tgbnir2","updated":"20250529164150"},"Children":[{"ID":"20250529164150-ir7p0pq","Type":"NodeParagraph","Properties":{"id":"20250529164150-ir7p0pq","updated":"20250529164150"},"Children":[{"Type":"NodeText","Data":"适合在开发/测试环境快速定位短时突发瓶颈"}]}]}]}]}]},{"ID":"20250529164216-pu8n8kh","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529164216-pu8n8kh","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"GPU \u0026 深度学习框架监控"}]},{"ID":"20250529164216-d2hp20e","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250529164216-d2hp20e","updated":"20250529164216"},"Children":[{"ID":"20250529164216-7tu6866","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250529164216-7tu6866","updated":"20250529164216"},"Children":[{"ID":"20250529164216-6kop30c","Type":"NodeParagraph","Properties":{"id":"20250529164216-6kop30c","updated":"20250529164216"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"NVIDIA DCGM Exporter"}]},{"ID":"20250529164216-z3xgdbg","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164216-z3xgdbg","updated":"20250529164216"},"Children":[{"ID":"20250529164216-6gdfccl","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-6gdfccl","updated":"20250529164216"},"Children":[{"ID":"20250529164216-qkf8e6x","Type":"NodeParagraph","Properties":{"id":"20250529164216-qkf8e6x","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"基于 NVIDIA Data Center GPU Manager (DCGM)"}]}]},{"ID":"20250529164216-6hx8yaj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-6hx8yaj","updated":"20250529164216"},"Children":[{"ID":"20250529164216-8kc5ssj","Type":"NodeParagraph","Properties":{"id":"20250529164216-8kc5ssj","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"导出 GPU 利用率、显存、功耗、温度、ECC 错误等指标到 Prometheus"}]}]},{"ID":"20250529164216-nux8yzb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-nux8yzb","updated":"20250529164216"},"Children":[{"ID":"20250529164216-tho6s8z","Type":"NodeParagraph","Properties":{"id":"20250529164216-tho6s8z","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"与 Node Exporter 配合，可在同一 Grafana 仪表盘中展示 CPU/GPU 负载对比"}]}]}]}]},{"ID":"20250529164216-wwaxuoa","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250529164216-wwaxuoa","updated":"20250529164216"},"Children":[{"ID":"20250529164216-lvgzlyc","Type":"NodeParagraph","Properties":{"id":"20250529164216-lvgzlyc","updated":"20250529164216"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"NVIDIA nv-hostengine / nvidia-smi daemon"}]},{"ID":"20250529164216-72w1lns","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164216-72w1lns","updated":"20250529164216"},"Children":[{"ID":"20250529164216-14y2e9o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-14y2e9o","updated":"20250529164216"},"Children":[{"ID":"20250529164216-2obqf9r","Type":"NodeParagraph","Properties":{"id":"20250529164216-2obqf9r","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nvidia-smi --query"},{"Type":"NodeText","Data":"​ 或 daemon 模式定时抓取指标"}]}]},{"ID":"20250529164216-qxlqom8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-qxlqom8","updated":"20250529164216"},"Children":[{"ID":"20250529164216-4w28ius","Type":"NodeParagraph","Properties":{"id":"20250529164216-4w28ius","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"对接自定义脚本/Agent（如 Telegraf exec 插件）推到监控平台"}]}]}]}]},{"ID":"20250529164216-qmeor6f","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250529164216-qmeor6f","updated":"20250529164216"},"Children":[{"ID":"20250529164216-ut8g1bx","Type":"NodeParagraph","Properties":{"id":"20250529164216-ut8g1bx","updated":"20250529164216"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"深度学习框架自带 Profiler + TensorBoard"}]},{"ID":"20250529164216-zhxcg85","Type":"NodeList","ListData":{},"Properties":{"id":"20250529164216-zhxcg85","updated":"20250529164216"},"Children":[{"ID":"20250529164216-vv11cha","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-vv11cha","updated":"20250529164216"},"Children":[{"ID":"20250529164216-sdv3o7a","Type":"NodeParagraph","Properties":{"id":"20250529164216-sdv3o7a","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"虽然属于代码级剖析，但能导出全局指标（如每 Step 的 GPU 利用率、吞吐量）"}]}]},{"ID":"20250529164216-zp93zne","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529164216-zp93zne","updated":"20250529164216"},"Children":[{"ID":"20250529164216-x14tlwu","Type":"NodeParagraph","Properties":{"id":"20250529164216-x14tlwu","updated":"20250529164216"},"Children":[{"Type":"NodeText","Data":"可结合系统监控看出瓶颈在哪个阶段"}]}]}]}]}]},{"ID":"20250529163934-rkvautr","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20250529163934-rkvautr","updated":"20250529163952"},"Children":[{"Type":"NodeText","Data":"代码级剖析工具"}]},{"ID":"20250529161021-ygn38f7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529161021-ygn38f7","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"1. cProfile"}]},{"ID":"20250529161021-v0rq5yi","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-v0rq5yi","updated":"20250529161021"},"Children":[{"ID":"20250529161021-wwfdoev","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-wwfdoev","updated":"20250529161021"},"Children":[{"ID":"20250529161021-9wu3kj6","Type":"NodeParagraph","Properties":{"id":"20250529161021-9wu3kj6","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"功能"},{"Type":"NodeText","Data":"：Python 内置的全局函数调用分析器，统计每个函数的调用次数、总耗时、平均耗时等。"}]}]},{"ID":"20250529161021-wfvgfni","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-wfvgfni","updated":"20250529161021"},"Children":[{"ID":"20250529161021-lr9ufo0","Type":"NodeParagraph","Properties":{"id":"20250529161021-lr9ufo0","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"适用场景"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-qdu7m4j","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-qdu7m4j","updated":"20250529161021"},"Children":[{"ID":"20250529161021-eoz0h6e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-eoz0h6e","updated":"20250529161021"},"Children":[{"ID":"20250529161021-m8vx2p6","Type":"NodeParagraph","Properties":{"id":"20250529161021-m8vx2p6","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"分析 Python 层面的业务逻辑或数据预处理函数。"}]}]},{"ID":"20250529161021-qpp5cfj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-qpp5cfj","updated":"20250529161021"},"Children":[{"ID":"20250529161021-zy8s7a0","Type":"NodeParagraph","Properties":{"id":"20250529161021-zy8s7a0","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"找出“哪些 Python 函数最耗时”，帮助优化数据加载、预处理、后处理等纯 Python 代码。"}]}]}]}]},{"ID":"20250529161021-xjc93qw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-xjc93qw","updated":"20250529161021"},"Children":[{"ID":"20250529161021-beifk0r","Type":"NodeParagraph","Properties":{"id":"20250529161021-beifk0r","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"局限性"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-awfaqcw","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-awfaqcw","updated":"20250529161021"},"Children":[{"ID":"20250529161021-shluvj6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-shluvj6","updated":"20250529161021"},"Children":[{"ID":"20250529161021-o0cofwt","Type":"NodeParagraph","Properties":{"id":"20250529161021-o0cofwt","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"对 C 扩展或底层库（如 NumPy、PyTorch/CUDA 内核）的调用只能看到函数入口和返回，不会细分到底层计算耗时。"}]}]},{"ID":"20250529161021-anfec1u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-anfec1u","updated":"20250529161021"},"Children":[{"ID":"20250529161021-8kipr99","Type":"NodeParagraph","Properties":{"id":"20250529161021-8kipr99","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"无法直接度量 GPU 上的计算时间（会把 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".cuda()"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".numpy()"},{"Type":"NodeText","Data":"​ 等调用当作黑盒）。"}]}]}]}]}]},{"ID":"20250529161021-wyozn1v","Type":"NodeThematicBreak","Properties":{"id":"20250529161021-wyozn1v","updated":"20250529161021"}},{"ID":"20250529161021-w8uchvf","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529161021-w8uchvf","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"2. memory"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"profiler"}]},{"ID":"20250529161021-2z4e7pb","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-2z4e7pb","updated":"20250529161021"},"Children":[{"ID":"20250529161021-sbnfh2x","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-sbnfh2x","updated":"20250529161021"},"Children":[{"ID":"20250529161021-dsgk26f","Type":"NodeParagraph","Properties":{"id":"20250529161021-dsgk26f","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"功能"},{"Type":"NodeText","Data":"：基于装饰器或命令行，统计每行 Python 代码的内存占用变化（常与 psutil 结合）。"}]}]},{"ID":"20250529161021-zgps5al","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-zgps5al","updated":"20250529161021"},"Children":[{"ID":"20250529161021-q3kt3fn","Type":"NodeParagraph","Properties":{"id":"20250529161021-q3kt3fn","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"适用场景"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-ju6fex0","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-ju6fex0","updated":"20250529161021"},"Children":[{"ID":"20250529161021-0dnkoph","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-0dnkoph","updated":"20250529161021"},"Children":[{"ID":"20250529161021-yjviago","Type":"NodeParagraph","Properties":{"id":"20250529161021-yjviago","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"排查数据预处理、张量转换、模型构造过程中哪些地方分配了大量 CPU 内存。"}]}]},{"ID":"20250529161021-3j382wu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-3j382wu","updated":"20250529161021"},"Children":[{"ID":"20250529161021-m1kowse","Type":"NodeParagraph","Properties":{"id":"20250529161021-m1kowse","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"发现内存泄漏或多次重复拷贝的热点行。"}]}]}]}]},{"ID":"20250529161021-ieb59jz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-ieb59jz","updated":"20250529161021"},"Children":[{"ID":"20250529161021-r5glw5v","Type":"NodeParagraph","Properties":{"id":"20250529161021-r5glw5v","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"局限性"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-ehmk9ra","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-ehmk9ra","updated":"20250529161021"},"Children":[{"ID":"20250529161021-zw6j0yd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-zw6j0yd","updated":"20250529161021"},"Children":[{"ID":"20250529161021-kses680","Type":"NodeParagraph","Properties":{"id":"20250529161021-kses680","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"只能监测到 Python 进程的主内存变化，无法看到 GPU 显存使用情况。"}]}]},{"ID":"20250529161021-cwlkeoc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-cwlkeoc","updated":"20250529161021"},"Children":[{"ID":"20250529161021-k7z5aer","Type":"NodeParagraph","Properties":{"id":"20250529161021-k7z5aer","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"对于大批量 tensor 的分配，因快照频率（默认 0.1s）限制，可能无法精确定位很短时间内的瞬时峰值。"}]}]}]}]}]},{"ID":"20250529161021-2j13veq","Type":"NodeThematicBreak","Properties":{"id":"20250529161021-2j13veq","updated":"20250529161021"}},{"ID":"20250529161021-m2cc3w0","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250529161021-m2cc3w0","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"3. line"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"profiler"}]},{"ID":"20250529161021-jqey7ud","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-jqey7ud","updated":"20250529161021"},"Children":[{"ID":"20250529161021-1t7wwoo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-1t7wwoo","updated":"20250529161021"},"Children":[{"ID":"20250529161021-yyf5oua","Type":"NodeParagraph","Properties":{"id":"20250529161021-yyf5oua","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"功能"},{"Type":"NodeText","Data":"：通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@profile"},{"Type":"NodeText","Data":"​ 装饰器，对指定函数做逐行时间剖析，报告各行的执行次数与耗时。"}]}]},{"ID":"20250529161021-q6b4p7z","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-q6b4p7z","updated":"20250529161021"},"Children":[{"ID":"20250529161021-kvai0h1","Type":"NodeParagraph","Properties":{"id":"20250529161021-kvai0h1","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"适用场景"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-dhw9rvy","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-dhw9rvy","updated":"20250529161021"},"Children":[{"ID":"20250529161021-9xr170p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-9xr170p","updated":"20250529161021"},"Children":[{"ID":"20250529161021-2eumjem","Type":"NodeParagraph","Properties":{"id":"20250529161021-2eumjem","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"深入分析某个数据处理或自定义层（Python 实现）的性能。"}]}]},{"ID":"20250529161021-w6tx86e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-w6tx86e","updated":"20250529161021"},"Children":[{"ID":"20250529161021-mnxwpik","Type":"NodeParagraph","Properties":{"id":"20250529161021-mnxwpik","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"对热点 Python 代码（如自定义 loss、metric 计算）进行微优化。"}]}]}]}]},{"ID":"20250529161021-1zda6zs","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-1zda6zs","updated":"20250529161021"},"Children":[{"ID":"20250529161021-jw4cmgn","Type":"NodeParagraph","Properties":{"id":"20250529161021-jw4cmgn","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"局限性"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-pddkapz","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-pddkapz","updated":"20250529161021"},"Children":[{"ID":"20250529161021-zo6o9wg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-zo6o9wg","updated":"20250529161021"},"Children":[{"ID":"20250529161021-ekc2t43","Type":"NodeParagraph","Properties":{"id":"20250529161021-ekc2t43","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"同样对 C/CUDA 代码视而不见，只能度量 Python 代码自身的开销。"}]}]},{"ID":"20250529161021-5o4rgqy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-5o4rgqy","updated":"20250529161021"},"Children":[{"ID":"20250529161021-tycf0n5","Type":"NodeParagraph","Properties":{"id":"20250529161021-tycf0n5","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"对非常短小或批量化的操作，噪声可能较大，需要多次运行取平均。"}]}]}]}]}]},{"ID":"20250529161021-rnla7nn","Type":"NodeThematicBreak","Properties":{"id":"20250529161021-rnla7nn","updated":"20250529161021"}},{"ID":"20250529161021-13jtn9p","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250529161021-13jtn9p","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"在深度学习系统中的角色与补充工具"}]},{"ID":"20250529161021-jhp0ocj","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250529161021-jhp0ocj","updated":"20250529161021"},"Children":[{"ID":"20250529161021-nxw0ez2","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250529161021-nxw0ez2","updated":"20250529161021"},"Children":[{"ID":"20250529161021-41iq2sv","Type":"NodeParagraph","Properties":{"id":"20250529161021-41iq2sv","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据管道与 Python 逻辑层面"}]},{"ID":"20250529161021-mhykf0k","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-mhykf0k","updated":"20250529161021"},"Children":[{"ID":"20250529161021-b5xu0m3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-b5xu0m3","updated":"20250529161021"},"Children":[{"ID":"20250529161021-s88pp4s","Type":"NodeParagraph","Properties":{"id":"20250529161021-s88pp4s","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"以上三者非常适合分析 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据加载/预处理"},{"Type":"NodeText","Data":"（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DataLoader"},{"Type":"NodeText","Data":"​ 里的自定义函数、图像增强、自定义 collate）和 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Python 业务逻辑"},{"Type":"NodeText","Data":"（如自定义训练循环、指标计算）。"}]}]},{"ID":"20250529161021-7ep5myk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-7ep5myk","updated":"20250529161021"},"Children":[{"ID":"20250529161021-e0o4l60","Type":"NodeParagraph","Properties":{"id":"20250529161021-e0o4l60","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"建议：先用 cProfile 定位耗时大的函数，再用 line"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"profiler 深挖“哪一行”最慢；用 memory"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeText","Data":"_"}]},{"Type":"NodeText","Data":"profiler 检查内存峰值，避免数据处理时过度拷贝。"}]}]}]}]},{"ID":"20250529161021-ls8zh3h","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250529161021-ls8zh3h","updated":"20250529161021"},"Children":[{"ID":"20250529161021-0abl2pe","Type":"NodeParagraph","Properties":{"id":"20250529161021-0abl2pe","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"GPU 计算与底层库"}]},{"ID":"20250529161021-lfi6ltm","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-lfi6ltm","updated":"20250529161021"},"Children":[{"ID":"20250529161021-8clrf4h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-8clrf4h","updated":"20250529161021"},"Children":[{"ID":"20250529161021-lrtynnt","Type":"NodeParagraph","Properties":{"id":"20250529161021-lrtynnt","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"对于模型前向/反向传播、卷积、矩阵乘法等 C/CUDA 层面的耗时，需要专门的深度学习框架 Profiler 或硬件分析工具："}]},{"ID":"20250529161021-263on1i","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-263on1i","updated":"20250529161021"},"Children":[{"ID":"20250529161021-9n9ryv8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-9n9ryv8","updated":"20250529161021"},"Children":[{"ID":"20250529161021-iosn9aq","Type":"NodeParagraph","Properties":{"id":"20250529161021-iosn9aq","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"PyTorch Profiler"},{"Type":"NodeText","Data":"（或 TensorBoard Profiler）可以区分 CPU 调度时间和 GPU kernel 执行时间，并展示各算子耗时。"}]}]},{"ID":"20250529161021-xn3nvo0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-xn3nvo0","updated":"20250529161021"},"Children":[{"ID":"20250529161021-r1blk77","Type":"NodeParagraph","Properties":{"id":"20250529161021-r1blk77","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"NVIDIA Nsight Systems/Compute"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"nvprof"},{"Type":"NodeText","Data":"、"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"NCCL 流量分析"},{"Type":"NodeText","Data":"，可以细粒度地剖析 CUDA kernel、内存带宽、核间通信等。"}]}]}]}]}]}]},{"ID":"20250529161021-6gyxn94","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250529161021-6gyxn94","updated":"20250529161021"},"Children":[{"ID":"20250529161021-cg9lyo6","Type":"NodeParagraph","Properties":{"id":"20250529161021-cg9lyo6","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"综合建议流程"}]},{"ID":"20250529161021-vs80bt6","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20250529161021-vs80bt6","updated":"20250529161021"},"Children":[{"ID":"20250529161021-re6l038","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20250529161021-re6l038","updated":"20250529161021"},"Children":[{"ID":"20250529161021-6dsjbx4","Type":"NodeParagraph","Properties":{"id":"20250529161021-6dsjbx4","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Python 端初筛"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-0eddduq","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-0eddduq","updated":"20250529161021"},"Children":[{"ID":"20250529161021-mlt633z","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-mlt633z","updated":"20250529161021"},"Children":[{"ID":"20250529161021-k60rklg","Type":"NodeParagraph","Properties":{"id":"20250529161021-k60rklg","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cProfile"},{"Type":"NodeText","Data":"​ 快速定位是否为 Python 逻辑瓶颈；"}]}]},{"ID":"20250529161021-8ap332p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-8ap332p","updated":"20250529161021"},"Children":[{"ID":"20250529161021-1a90d83","Type":"NodeParagraph","Properties":{"id":"20250529161021-1a90d83","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"如果是数据加载或自定义层的瓶颈，再用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"line_profiler"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"memory_profiler"},{"Type":"NodeText","Data":"​ 做精细定位。"}]}]}]}]},{"ID":"20250529161021-xkwe9o0","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20250529161021-xkwe9o0","updated":"20250529161021"},"Children":[{"ID":"20250529161021-xsxrrru","Type":"NodeParagraph","Properties":{"id":"20250529161021-xsxrrru","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"框架内置剖析"},{"Type":"NodeText","Data":"："}]},{"ID":"20250529161021-wor5xf5","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-wor5xf5","updated":"20250529161021"},"Children":[{"ID":"20250529161021-h4xwnb1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-h4xwnb1","updated":"20250529161021"},"Children":[{"ID":"20250529161021-3ydu2c3","Type":"NodeParagraph","Properties":{"id":"20250529161021-3ydu2c3","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"切换到 PyTorch/TensorFlow Profiler，测量算子级耗时和 GPU 利用率。"}]}]}]}]},{"ID":"20250529161021-xls78rb","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20250529161021-xls78rb","updated":"20250529161021"},"Children":[{"ID":"20250529161021-6hw79sm","Type":"NodeParagraph","Properties":{"id":"20250529161021-6hw79sm","updated":"20250529161021"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"硬件级分析"},{"Type":"NodeText","Data":"（若仍有瓶颈）："}]},{"ID":"20250529161021-yg0fgzt","Type":"NodeList","ListData":{},"Properties":{"id":"20250529161021-yg0fgzt","updated":"20250529161021"},"Children":[{"ID":"20250529161021-xniuf1l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250529161021-xniuf1l","updated":"20250529161021"},"Children":[{"ID":"20250529161021-350w9xw","Type":"NodeParagraph","Properties":{"id":"20250529161021-350w9xw","updated":"20250529161021"},"Children":[{"Type":"NodeText","Data":"使用 NVIDIA Nsight 等工具，排查 CUDA kernel 性能、显存带宽、PCIe 传输、核间同步等深层次问题。"}]}]}]}]}]}]}]},{"ID":"20250609210528-1uyktwe","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20250609210528-1uyktwe","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"Prometheus 与 Telegraf 单机 PyTorch 性能监控对比分析"}]},{"ID":"20250609210528-qpdr7ib","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250609210528-qpdr7ib","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"性能指标采集能力"}]},{"ID":"20250609210528-njwvx3x","Type":"NodeList","ListData":{},"Properties":{"id":"20250609210528-njwvx3x","updated":"20250609210528"},"Children":[{"ID":"20250609210528-x11cz01","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-x11cz01","updated":"20250609210528"},"Children":[{"ID":"20250609210528-ghjuhz2","Type":"NodeParagraph","Properties":{"id":"20250609210528-ghjuhz2","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"GPU 指标"},{"Type":"NodeText","Data":"：Telegraf 内置 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.nvidia_smi"},{"Type":"NodeText","Data":"​ 插件，通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nvidia-smi"},{"Type":"NodeText","Data":"​ 获取 GPU 利用率、显存使用、温度等指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=The%20NVIDIA%20SMI%20input%20plugin,GPU%20usage%2C%20temp%20and%20other","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://developer.aliyun.com/article/1541802#:~:text=Telegraf%E6%8F%90%E4%BE%9Bnvidia","TextMarkTextContent":"developer.aliyun.com"},{"Type":"NodeText","Data":"；Prometheus 则通常使用 NVIDIA DCGM Exporter 导出 GPU 指标（如 GPU 利用率、显存使用、电力消耗等）"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://learn.microsoft.com/en-us/azure/azure-monitor/containers/prometheus-dcgm-integration#:~:text=NVIDIA%20DCGM%20Exporter%20enables%20collecting,and%20through%20Azure%20Managed%20Grafana","TextMarkTextContent":"learn.microsoft.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/prometheus/node_exporter#:~:text=Prometheus%20exporter%20for%20hardware%20and,Go%20with%20pluggable%20metric%20collectors","TextMarkTextContent":"github.com"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20250609210528-cf2gv9p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-cf2gv9p","updated":"20250609210528"},"Children":[{"ID":"20250609210528-05e6rnd","Type":"NodeParagraph","Properties":{"id":"20250609210528-05e6rnd","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"CPU/内存/磁盘 I/O"},{"Type":"NodeText","Data":"：Prometheus 可借助官方 Node Exporter 收集主机的 CPU、内存、磁盘 I/O、网络等系统指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/prometheus/node_exporter#:~:text=Prometheus%20exporter%20for%20hardware%20and,Go%20with%20pluggable%20metric%20collectors","TextMarkTextContent":"github.com"},{"Type":"NodeText","Data":"；Telegraf 通过内置的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.cpu"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.mem"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.disk"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.diskio"},{"Type":"NodeText","Data":"​ 等插件直接采集 CPU 使用率、内存使用、磁盘使用与读写等指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=The%20CPU%20input%20plugin%20gathers,metrics%20about%20cpu%20usage","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=match%20at%20L1662%20The%20Mem,see%20Linux%20ate%20my%20ram","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20250609210528-sb2q2ch","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-sb2q2ch","updated":"20250609210528"},"Children":[{"ID":"20250609210528-748c333","Type":"NodeParagraph","Properties":{"id":"20250609210528-748c333","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"训练速度、准确率等自定义指标"},{"Type":"NodeText","Data":"：Prometheus 和 Telegraf 均无内置深度学习训练度量支持，需要在应用层自行导出。例如，可以在 PyTorch 训练脚本中使用 Python 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"prometheus_client"},{"Type":"NodeText","Data":"​ 库将训练速度、损失、准确率等指标以 Prometheus 格式暴露在 HTTP 端点上，由 Prometheus 抓取"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.modular.com/ai-resources/setting-up-prometheus-grafana-for-ai-model-observability#:~:text=Your%20AI%20models%20should%20expose,AI%20model%20built%20with%20PyTorch","TextMarkTextContent":"modular.com"},{"Type":"NodeText","Data":"；Telegraf 则可使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.prometheus"},{"Type":"NodeText","Data":"​ 插件抓取同样的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/metrics"},{"Type":"NodeText","Data":"​ 接口"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=Telegraf%200","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeText","Data":"，也可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.exec"},{"Type":"NodeText","Data":"​ 运行自定义脚本或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.logparser"},{"Type":"NodeText","Data":"​ 解析训练日志来采集指标。对于短暂训练任务，还可借助 Prometheus PushGateway 将指标推送到监控系统"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://ajeetraina.medium.com/how-to-collect-nvidia-gpu-metrics-using-prometheus-docker-prometheus-pushgateway-1e2d06728a38#:~:text=Let%E2%80%99s%20talk%20about%20Prometheus%20Pushgateway","TextMarkTextContent":"ajeetraina.medium.com"},{"Type":"NodeText","Data":"。"}]}]}]},{"ID":"20250609210528-333m8l3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250609210528-333m8l3","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"与 PyTorch/深度学习集成支持"}]},{"ID":"20250609210528-wbe4xhd","Type":"NodeList","ListData":{},"Properties":{"id":"20250609210528-wbe4xhd","updated":"20250609210528"},"Children":[{"ID":"20250609210528-2qcpzwv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-2qcpzwv","updated":"20250609210528"},"Children":[{"ID":"20250609210528-idgwz1w","Type":"NodeParagraph","Properties":{"id":"20250609210528-idgwz1w","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Prometheus"},{"Type":"NodeText","Data":"：本身是通用监控框架，无专门的 PyTorch 插件。用户需自行在训练代码中嵌入指标导出逻辑（如使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"prometheus_client"},{"Type":"NodeText","Data":"​ 或 Flask 等框架）并配置 Prometheus 抓取该指标接口"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.modular.com/ai-resources/setting-up-prometheus-grafana-for-ai-model-observability#:~:text=Your%20AI%20models%20should%20expose,AI%20model%20built%20with%20PyTorch","TextMarkTextContent":"modular.com"},{"Type":"NodeText","Data":"。也可以使用 PushGateway 方式将批量/短跑训练任务的指标推送给 Prometheus"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://ajeetraina.medium.com/how-to-collect-nvidia-gpu-metrics-using-prometheus-docker-prometheus-pushgateway-1e2d06728a38#:~:text=Let%E2%80%99s%20talk%20about%20Prometheus%20Pushgateway","TextMarkTextContent":"ajeetraina.medium.com"},{"Type":"NodeText","Data":"。训练速度和准确率需在代码中计算并暴露，否则监控系统无法自动获取。"}]}]},{"ID":"20250609210528-vvkmyzn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-vvkmyzn","updated":"20250609210528"},"Children":[{"ID":"20250609210528-0vvob3d","Type":"NodeParagraph","Properties":{"id":"20250609210528-0vvob3d","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Telegraf"},{"Type":"NodeText","Data":"：Telegraf 同样没有专门的 PyTorch 插件，但其多种输入插件提供了灵活的接入方式。若训练代码按照 Prometheus 规范暴露了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/metrics"},{"Type":"NodeText","Data":"​ 接口，Telegraf 可用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.prometheus"},{"Type":"NodeText","Data":"​ 插件抓取这些指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=Telegraf%200","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeText","Data":"。或者通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.exec"},{"Type":"NodeText","Data":"​ 执行脚本（如调用 Python 工具获取训练进度）或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.logparser"},{"Type":"NodeText","Data":"​ 解析训练日志来收集损失、准确率等自定义指标。总之，两者都需要用户在训练流程外部或内部增加监控埋点才能获取模型性能数据。"}]}]}]},{"ID":"20250609210528-jqrhvt0","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250609210528-jqrhvt0","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"与可视化工具（Grafana）集成"}]},{"ID":"20250609210528-ro2p2gm","Type":"NodeList","ListData":{},"Properties":{"id":"20250609210528-ro2p2gm","updated":"20250609210528"},"Children":[{"ID":"20250609210528-6tfofex","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-6tfofex","updated":"20250609210528"},"Children":[{"ID":"20250609210528-4al493h","Type":"NodeParagraph","Properties":{"id":"20250609210528-4al493h","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Prometheus"},{"Type":"NodeText","Data":"：与 Grafana 集成度极高。Grafana 原生支持 Prometheus 数据源，可直接使用 PromQL 查询 Prometheus 存储的指标并制作可交互的仪表板"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=send%20notifications%20via%20email%2C%20Slack%2C,of%20detailed%20and%20interactive%20dashboards","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Prometheus%3A%20Prometheus%20provides%20a%20powerful,Prometheus%20as%20a%20data%20source","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。通常的架构是 Prometheus 负责数据存储与查询，Grafana 用于可视化展示。"}]}]},{"ID":"20250609210528-fbi2vcu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-fbi2vcu","updated":"20250609210528"},"Children":[{"ID":"20250609210528-f16c7ih","Type":"NodeParagraph","Properties":{"id":"20250609210528-f16c7ih","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Telegraf"},{"Type":"NodeText","Data":"：Telegraf 通常与 InfluxDB 搭配使用。Grafana 支持将 InfluxDB 配置为数据源，因此可以直接可视化 Telegraf 收集并写入 InfluxDB 的数据。Telegraf 也提供将数据输出为 Prometheus 格式的客户端插件，使其可以被 Prometheus 抓取并在 Grafana 中查询"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=plugins.%20,to%20different%20data%20storage%20and","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeText","Data":"。总之，无论 Prometheus 还是 Telegraf+InfluxDB，Grafana 都能通过对应的数据源进行可视化。"}]}]}]},{"ID":"20250609210528-yg7jgoi","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250609210528-yg7jgoi","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"配置复杂度、性能开销与可维护性"}]},{"ID":"20250609210528-6zgid04","Type":"NodeList","ListData":{},"Properties":{"id":"20250609210528-6zgid04","updated":"20250609210528"},"Children":[{"ID":"20250609210528-6qr6w3f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-6qr6w3f","updated":"20250609210528"},"Children":[{"ID":"20250609210528-qrqvmsh","Type":"NodeParagraph","Properties":{"id":"20250609210528-qrqvmsh","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"配置复杂度"},{"Type":"NodeText","Data":"：Prometheus 需要单独部署 Prometheus Server，并为每类监控对象配置相应的 Exporter（如 Node Exporter、DCGM Exporter 等）和抓取规则"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"},{"Type":"NodeText","Data":"。配置文件采用 YAML 格式，需要指定抓取目标、采集频率和规则。Telegraf 则只需一个主配置文件，在其中启用所需的输入/输出插件，相对简洁灵活"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=Telegraf%20is%20known%20for%20its,of%20flexibility%20and%20integration%20options","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeText","Data":"。"}]}]},{"ID":"20250609210528-gqjuweb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-gqjuweb","updated":"20250609210528"},"Children":[{"ID":"20250609210528-9h3tll0","Type":"NodeParagraph","Properties":{"id":"20250609210528-9h3tll0","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"性能开销"},{"Type":"NodeText","Data":"：Prometheus 包含内置的时序数据库，用于长时间存储指标数据，因此运行时会占用一定的内存和磁盘资源"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%3A%20Telegraf%20does%20not%20include,that%20best%20fits%20your%20needs","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。Prometheus 的抓取模式允许精确定义采集周期，减少不必要的开销。Telegraf 本身是轻量级代理，资源占用极少"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=2,it%20highly%20scalable%20as%20well","TextMarkTextContent":"stackshare.io"},{"Type":"NodeText","Data":"；但通常需要将数据写入外部存储（如 InfluxDB），因此实际开销取决于所选数据库的部署规模"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%3A%20Telegraf%20does%20not%20include,that%20best%20fits%20your%20needs","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。总体而言，Prometheus 服务器的长期存储和查询功能开销较大，Telegraf 代理本身开销很小，但配套存储（InfluxDB）需额外考虑。"}]}]},{"ID":"20250609210528-6it4lmk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-6it4lmk","updated":"20250609210528"},"Children":[{"ID":"20250609210528-4o67lz5","Type":"NodeParagraph","Properties":{"id":"20250609210528-4o67lz5","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"可维护性"},{"Type":"NodeText","Data":"：Prometheus 作为 CNCF 项目，拥有完备的文档和成熟的社区生态（包括 Alertmanager 告警、PromQL 查询等），更新和运维有保障，但系统组件较多，需要同时维护多个服务。Telegraf 由 InfluxData 维护，插件众多且易于扩展，通过统一配置文件管理所有采集逻辑，简化了部署和升级，但由于其本身不包括告警或持久存储，通常需要配合其他工具（如 InfluxDB/Kapacitor）一起使用。"}]}]}]},{"ID":"20250609210528-qc4pymw","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250609210528-qc4pymw","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"典型使用场景与社区支持"}]},{"ID":"20250609210528-45qkjq7","Type":"NodeList","ListData":{},"Properties":{"id":"20250609210528-45qkjq7","updated":"20250609210528"},"Children":[{"ID":"20250609210528-blqg0qg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-blqg0qg","updated":"20250609210528"},"Children":[{"ID":"20250609210528-tyqvaxw","Type":"NodeParagraph","Properties":{"id":"20250609210528-tyqvaxw","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"典型场景"},{"Type":"NodeText","Data":"：Telegraf 适用于需要收集多种来源指标、灵活选择数据存储方案的场景"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%3A%20Telegraf%20is%20ideal%20for,environments%20where","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。例如在异构服务器或多种服务并存的环境中，Telegraf 丰富的插件（200+）可快速接入各种系统和应用数据"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=Plugin%20Ecosystem%20Extensive%20,Highly%20scalable%20for%20data%20storage","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeText","Data":"。而 Prometheus 更适合需要综合监控和告警能力、并且基础设施动态变化频繁的场景"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Prometheus%3A%20Prometheus%20is%20best%20suited,for%20environments%20where","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。例如在 Kubernetes 或云原生环境中，Prometheus 的服务发现和自动抓取机制优势明显。"}]}]},{"ID":"20250609210528-7yjvlpo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250609210528-7yjvlpo","updated":"20250609210528"},"Children":[{"ID":"20250609210528-73yug51","Type":"NodeParagraph","Properties":{"id":"20250609210528-73yug51","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"社区和生态"},{"Type":"NodeText","Data":"：Prometheus 为 CNCF 顶级项目，社区活跃度高，在容器监控、微服务监控领域被广泛应用，拥有强大的查询语言（PromQL）和告警体系"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%20is%20highly%20flexible%2C%20making,various%20storage%20and%20monitoring%20systems","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。Telegraf 是 InfluxData 生态的一部分，凭借丰富的插件支持和轻量特性，在物联网和传统 IT 监控领域也拥有大量用户"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%20is%20highly%20flexible%2C%20making,various%20storage%20and%20monitoring%20systems","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=Plugin%20Ecosystem%20Extensive%20,Highly%20scalable%20for%20data%20storage","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeText","Data":"。"}]}]}]},{"ID":"20250609210528-f8rdgty","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20250609210528-f8rdgty","updated":"20250609210528"},"Children":[{"Type":"NodeText","Data":"综合对比表"}]},{"ID":"20250609210528-hd7vhy7","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"||","id":"20250609210528-hd7vhy7","updated":"20250609210528"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"比较项"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"Prometheus"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"Telegraf"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据采集模式"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"基于拉取（Pull）：Prometheus Server 定期抓取目标接口"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"支持拉取和推送：可拉取指标端点，也可通过输出插件将指标推送至存储"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=plugins.%20,to%20different%20data%20storage%20and","TextMarkTextContent":"tolumichael.com"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"GPU 指标支持"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"需额外安装 NVIDIA DCGM Exporter（支持 GPU 利用率、显存使用、电源等）"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://learn.microsoft.com/en-us/azure/azure-monitor/containers/prometheus-dcgm-integration#:~:text=NVIDIA%20DCGM%20Exporter%20enables%20collecting,and%20through%20Azure%20Managed%20Grafana","TextMarkTextContent":"learn.microsoft.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/prometheus/node_exporter#:~:text=Prometheus%20exporter%20for%20hardware%20and,Go%20with%20pluggable%20metric%20collectors","TextMarkTextContent":"github.com"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"内置"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"nvidia_smi"},{"Type":"NodeText","Data":"​插件（支持 GPU 利用率、显存使用、温度等）"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=The%20NVIDIA%20SMI%20input%20plugin,GPU%20usage%2C%20temp%20and%20other","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://developer.aliyun.com/article/1541802#:~:text=Telegraf%E6%8F%90%E4%BE%9Bnvidia","TextMarkTextContent":"developer.aliyun.com"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"CPU/内存/磁盘"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"使用 Node Exporter 采集主机 CPU、内存、磁盘 I/O 等指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/prometheus/node_exporter#:~:text=Prometheus%20exporter%20for%20hardware%20and,Go%20with%20pluggable%20metric%20collectors","TextMarkTextContent":"github.com"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"内置 CPU、Disk、DiskIO、Mem 等插件采集对应指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=The%20CPU%20input%20plugin%20gathers,metrics%20about%20cpu%20usage","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=match%20at%20L1662%20The%20Mem,see%20Linux%20ate%20my%20ram","TextMarkTextContent":"docs.influxdata.com"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"训练速度/准确率"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"无内置支持；需在训练代码中暴露指标（如"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"prometheus_client"},{"Type":"NodeText","Data":"​导出）并由 Prometheus 抓取"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://www.modular.com/ai-resources/setting-up-prometheus-grafana-for-ai-model-observability#:~:text=Your%20AI%20models%20should%20expose,AI%20model%20built%20with%20PyTorch","TextMarkTextContent":"modular.com"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"无内置支持；可通过"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.prometheus"},{"Type":"NodeText","Data":"​抓取应用导出的指标"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=Telegraf%200","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeText","Data":"，或使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"inputs.exec"},{"Type":"NodeText","Data":"​/"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"logparser"},{"Type":"NodeText","Data":"​自行采集训练度量"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"可视化集成"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"Grafana 原生支持 Prometheus 数据源"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=send%20notifications%20via%20email%2C%20Slack%2C,of%20detailed%20and%20interactive%20dashboards","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Prometheus%3A%20Prometheus%20provides%20a%20powerful,Prometheus%20as%20a%20data%20source","TextMarkTextContent":"blog.nashtechglobal.com"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"常搭配 InfluxDB 使用，Grafana 可通过 InfluxDB 数据源展示；也可将数据以 Prometheus 格式输出，再由 Grafana 查询"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=plugins.%20,to%20different%20data%20storage%20and","TextMarkTextContent":"tolumichael.com"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"配置与维护"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"需要配置 Prometheus Server、各类 Exporter 和抓取规则"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"通过一个配置文件启用所需输入/输出插件，部署简单灵活"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=Telegraf%20is%20known%20for%20its,of%20flexibility%20and%20integration%20options","TextMarkTextContent":"tolumichael.com"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"性能开销"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"包含内置时序数据库，资源占用较大；抓取过程可控"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%3A%20Telegraf%20does%20not%20include,that%20best%20fits%20your%20needs","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"代理本身轻量"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=2,it%20highly%20scalable%20as%20well","TextMarkTextContent":"stackshare.io"},{"Type":"NodeText","Data":"；需额外部署数据存储（如 InfluxDB），总开销视存储规模而定"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%3A%20Telegraf%20does%20not%20include,that%20best%20fits%20your%20needs","TextMarkTextContent":"blog.nashtechglobal.com"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"告警功能"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"内置 Alertmanager，支持基于 PromQL 定义告警规则"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=5,in%20the%20monitoring%20stack%20for","TextMarkTextContent":"stackshare.io"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"无内置告警；需配合其他工具（如 Kapacitor 等）实现告警"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"使用场景/社区"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"适合动态环境中的全面监控与告警（如 Kubernetes、云原生场景）"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Prometheus%3A%20Prometheus%20is%20best%20suited,for%20environments%20where","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%20is%20highly%20flexible%2C%20making,various%20storage%20and%20monitoring%20systems","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"；CNCF 社区成熟、文档丰富"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"适合多源指标采集、灵活可配置的场景"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%3A%20Telegraf%20is%20ideal%20for,environments%20where","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%20is%20highly%20flexible%2C%20making,various%20storage%20and%20monitoring%20systems","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"；拥有丰富插件（200+）"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=Plugin%20Ecosystem%20Extensive%20,Highly%20scalable%20for%20data%20storage","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeText","Data":"，InfluxData 社区活跃"}]}]}]},{"ID":"20250609210528-f1rsy8u","Type":"NodeParagraph","Properties":{"id":"20250609210528-f1rsy8u","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"结论"},{"Type":"NodeText","Data":"：Prometheus 与 Telegraf 各有优势：Prometheus 提供 pull 模式抓取、内置存储和告警体系，适用于需要完整监控+告警和 PromQL 查询能力的场景；Telegraf 提供丰富插件和多种数据输入/输出方案，适合快速部署和收集多种来源的指标。对于单机 PyTorch 训练，如果需求只是系统级指标监控且追求简单部署，可优先考虑 Telegraf（常与 InfluxDB+Grafana 搭配使用）；若需要更复杂的查询能力、长时间存储及告警，则 Prometheus 更为合适。最终选择应基于具体应用需求、可视化要求和团队熟悉度来决定。"}]},{"ID":"20250609210528-q0xng4n","Type":"NodeParagraph","Properties":{"id":"20250609210528-q0xng4n","updated":"20250609210528"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"参考资料："},{"Type":"NodeText","Data":" Prometheus 与 Telegraf 的官方插件文档"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=The%20NVIDIA%20SMI%20input%20plugin,GPU%20usage%2C%20temp%20and%20other","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=Telegraf%200","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://docs.influxdata.com/telegraf/v1/plugins/#:~:text=Plugin%20ID%3A%20,1","TextMarkTextContent":"docs.influxdata.com"},{"Type":"NodeText","Data":"及对比分析"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://tolumichael.com/telegraf-vs-prometheus-a-comprehensive-analysis/#:~:text=send%20notifications%20via%20email%2C%20Slack%2C,of%20detailed%20and%20interactive%20dashboards","TextMarkTextContent":"tolumichael.com"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://stackshare.io/stackups/prometheus-vs-telegraf#:~:text=1,pushing%20metrics%20to%20different%20destinations","TextMarkTextContent":"stackshare.io"},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://blog.nashtechglobal.com/telegraf-vs-prometheus-choosing-the-right-metrics-collection-tool/#:~:text=Telegraf%20is%20highly%20flexible%2C%20making,various%20storage%20and%20monitoring%20systems","TextMarkTextContent":"blog.nashtechglobal.com"},{"Type":"NodeText","Data":"。上述内容综合了多方信息来源，帮助用户了解两者在 PyTorch 监控场景下的差异与适用范围。"}]}]}